#!/bin/sh

# Auto-fix linting issues
echo "ğŸ” Auto-fixing linting issues..."
pnpm run lint:fix || echo "âš ï¸  Some linting issues remain but continuing..."

# Auto-format code
echo "âœ¨ Auto-formatting code..."
pnpm run format || echo "âš ï¸  Formatting failed but continuing..."

# Add the fixed files to git
echo "ğŸ“ Adding formatted files to git..."
git add .

# Type check and build
echo "ğŸ—ï¸  Building project..."
if ! pnpm run build; then
  echo "âŒ Build failed - please fix errors before pushing"
  exit 1
fi
